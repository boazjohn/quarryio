<span ng-if="handle">

    <div class='col-lg-12 bottom-1' ng-if='!files'>
        <a ng-click="getResultFiles()" class='btn col-lg-3 btn-info btn-lg col-lg-offset-9'>Download Results</a>
    </div>

    <div class='col-lg-12 bottom-1 well' ng-if='files'>
        <p class='lead'>Result Files</p>
        <a ng-repeat='file in files' ng-href='{{ file }}'>Result File {{ $index+1 }}</a>
    </div>

    <!-- QUERY RESULTS -->
    <div class='row-fluid' ng-if='!loadingResults'>

        <table class="table table-striped table-hover table-responsive">
            <thead>
                <tr>
                    <th class='col-lg-1'>#</th>
                    <th ng-repeat='column in columns' class='text-right'>{{ column.name }}</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat='row in rows track by $index'>
                    <td>{{ offset+$index+1 }}</td>
                    <td ng-repeat='value in row track by $index' class='text-right'>{{ value }}</td>
                </tr>
            </tbody>
        </table>

        <ul class='pager'>
            <li ng-if='pageForward'>
                <a ng-click='fetchResults()'>Next <span class='fa fa-angle-right'></span></a>
            </li>
        </ul>

    </div>

    <!-- QUERY LOADING -->
    <div class='row-fluid bottom-1'>

        <div class='col-lg-12'>
            <div loader enabled='loadingResults' message='"Loading results..."'></div>
        </div>

    </div>

</span>
